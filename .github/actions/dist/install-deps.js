import*as e from"@actions/core";import{exec as a}from"@actions/exec";async function r(){let o=e.getInput("packageName"),i=e.getInput("directory"),s=e.getBooleanInput("testRequired");await a("yarn",["workspaces","focus",o]);let{default:t}=await import(`${i}/package.json`,{with:{type:"json"}});s&&t.devDependencies.playwright&&(e.info(`Playwright is necessary for ${o}, installing`),await a("yarn",["playwright","install","--with-deps"])),t.devDependencies["@sourceacademy/modules-buildtools"]&&(e.info("Building buildtools"),await a("yarn",["workspaces","foreach","-A","--include","@sourceacademy/modules-buildtools","run","build"]))}await r();
