import{_ as s,c as a,o as i,a2 as n}from"./chunks/framework.BYVJ-AET.js";const u=JSON.parse('{"title":"Editing an Existing Bundle","description":"","frontmatter":{},"headers":[],"relativePath":"modules/2-bundle/3-editing.md","filePath":"modules/2-bundle/3-editing.md","lastUpdated":1768226882000}'),t={name:"modules/2-bundle/3-editing.md"};function o(d,e,l,h,r,p){return i(),a("div",null,e[0]||(e[0]=[n(`<h1 id="editing-an-existing-bundle" tabindex="-1">Editing an Existing Bundle <a class="header-anchor" href="#editing-an-existing-bundle" aria-label="Permalink to &quot;Editing an Existing Bundle&quot;">​</a></h1><p>This page contains instructions for modifying an existing bundle. If you are creating a new bundle from scratch, refer to <a href="./2-creating/2-creating.html">these</a> instructions instead.</p><h2 id="installing-dependencies" tabindex="-1">Installing Dependencies <a class="header-anchor" href="#installing-dependencies" aria-label="Permalink to &quot;Installing Dependencies&quot;">​</a></h2><p>To install <strong>only</strong> the dependencies required by the bundle you are modifying, use the command below:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> workspaces</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> focus</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @sourceacademy/bundle-[desired</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bundle]</span></span></code></pre></div><div class="tip custom-block github-alert"><p class="custom-block-title">TIP</p><p>You may require functionalities from the root package, or other packages from this repository. It is possible to focus multiple workspaces at once:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> workspaces</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> focus</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @sourceacademy/bundle-[desired</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bundle]</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @sourceacademy/modules</span></span></code></pre></div></div><h2 id="adding-dependencies" tabindex="-1">Adding Dependencies <a class="header-anchor" href="#adding-dependencies" aria-label="Permalink to &quot;Adding Dependencies&quot;">​</a></h2><p>Your bundle may need other Javascript packages. To add a dependency to your bundle, run the command below:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [dependency]</span></span></code></pre></div><p>If the dependency does not need to be present during runtime, then use:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --dev</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [dependency]</span></span></code></pre></div><p>This adds the dependency to <code>devDependencies</code> instead.</p><div class="warning custom-block github-alert"><p class="custom-block-title">WARNING</p><p>You should only run this command in the directory of your bundle. Otherwise, the dependency will end up being added to the root repository.</p></div><div class="note custom-block github-alert"><p class="custom-block-title">NOTE</p><p>There are certain dependencies that are common to all bundles (like <code>react</code>). When adding such a dependency, remember to add the exact version specified in the root repository <code>package.json</code>:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> react@^18.3.1</span></span></code></pre></div><p>You can also use the command <code>yarn constraints</code> to check if you have incorrectly specified the version of a dependency. You can view all constraints <a href="./../../repotools/5-yarn.html">here</a>.</p></div><div class="note custom-block github-alert"><p class="custom-block-title">NOTE</p><p>When adding dependencies that originate from the repository (e.g <code>@sourceacademy/modules-lib</code>), use <code>workspace:^</code> as the given version:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @sourceacademy/modules-lib@workspace:^</span></span></code></pre></div></div><p>You can also add the dependency directly by modifying your <code>package.json</code>:</p><div class="language-jsonc vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">jsonc</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;@sourceacademy/bundle-bundle0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;dependencies&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line highlighted"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;lodash&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;^4.0.0&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>If you do so, remember to run your installation command (same as the one above) to update the lockfile.</p><div class="important custom-block github-alert"><p class="custom-block-title">React Within bundles</p><p>Currently, the way bundles are loaded by <code>js-slang</code> means that React cannot be externalized for bundles. <code>js-slang</code> simply has no way to provide React from the frontend to the bundle.</p><p>This means that tools like the React DevTools will not be able to work correctly for bundles during development with the frontend.</p><p>Refer to the <a href="https://github.com/source-academy/modules/issues/211" target="_blank" rel="noreferrer">issue</a> tracking this functionality.</p></div><h2 id="bundle-conventions" tabindex="-1">Bundle Conventions <a class="header-anchor" href="#bundle-conventions" aria-label="Permalink to &quot;Bundle Conventions&quot;">​</a></h2><p>To ensure that bundles conform to the different Source language specifications, there are a few rules that bundles need to abide by. Refer to <a href="./4-conventions/index.html">this list</a> for more information.</p><h2 id="module-contexts" tabindex="-1">Module Contexts <a class="header-anchor" href="#module-contexts" aria-label="Permalink to &quot;Module Contexts&quot;">​</a></h2><p>Module contexts are a way for bundles to send information between bundles and tabs. Refer to <a href="./../5-advanced/context.html">this</a> section for instructions on how to use them.</p><h2 id="common-modules-library" tabindex="-1">Common Modules Library <a class="header-anchor" href="#common-modules-library" aria-label="Permalink to &quot;Common Modules Library&quot;">​</a></h2><p>There are common functions such as <code>hexToColor</code> available in the Common Modules Library. You can make use of these functions instead of implementing your own versions of them.</p><h2 id="adding-unit-tests" tabindex="-1">Adding Unit Tests <a class="header-anchor" href="#adding-unit-tests" aria-label="Permalink to &quot;Adding Unit Tests&quot;">​</a></h2><p>Where possible, you should add unit tests to your bundle. Refer to <a href="/modules/devdocs/modules/4-testing/">this</a> page for instructions.</p>`,27)]))}const k=s(t,[["render",o]]);export{u as __pageData,k as default};
