import{_ as o,c as n,o as r,j as e,a2 as i,a as t}from"./chunks/framework.BYVJ-AET.js";const f=JSON.parse('{"title":"Curve Bundle","description":"","frontmatter":{"title":"Curve Bundle"},"headers":[],"relativePath":"lib/dev/curve.md","filePath":"lib/dev/curve.md","lastUpdated":1768233552000}'),l={name:"lib/dev/curve.md"};function s(c,a,d,u,h,p){return r(),n("div",null,a[0]||(a[0]=[e("h1",{id:"introduction",tabindex:"-1"},[t("Introduction "),e("a",{class:"header-anchor",href:"#introduction","aria-label":'Permalink to "Introduction"'},"​")],-1),e("p",null,[t("The "),e("code",null,"curves"),t(" module allow user to create, transform and render curves of various shapes and colours onto a "),e("code",null,"canvas"),t(" element. This "),e("code",null,"canvas"),t(" spawns in a dedicated tab when the program is run.")],-1),e("table",null,[e("tbody",null,[e("tr",null,[e("td",{valign:"top"},[e("ul",null,[e("li",null,[e("a",{href:"#introduction"},"Introduction")]),e("ul",null,[e("li",null,[e("a",{href:"#gallery"},"Gallery")]),e("li",null,[e("a",{href:"#documentation"},"Documentation")]),e("li",null,[e("a",{href:"#pre-requisites"},"Pre-requisites")])])])]),e("td",{valign:"top"},[e("ul",null,[e("li",null,[e("a",{href:"#repository"},"Repository")]),e("ul",null,[e("li",null,[e("a",{href:"#library"},"Library")]),e("ul",null,[e("li",null,[e("a",{href:"#documentation-style"},"Documentation Style")])])]),e("ul",null,[e("li",null,[e("a",{href:"#tab-component"},"Tab Component")]),e("ul",null,[e("li",null,[e("a",{href:"#spawning-mechanism"},"Spawning Mechanism")]),e("li",null,[e("a",{href:"#user-interface"},"User Interface")]),e("li",null,[e("a",{href:"#propstate-handling"},"Prop/State Handling")])])])])])])])],-1),i('<h2 id="gallery" tabindex="-1">Gallery <a class="header-anchor" href="#gallery" aria-label="Permalink to &quot;Gallery&quot;">​</a></h2><p align="center"><a href="https://share.sourceacademy.nus.edu.sg/curve"><img width="274" src="https://i.imgur.com/wdCQwgR.gif" title="Heart"></a></p><p>Click the images for the sample code.</p><h2 id="documentation" tabindex="-1">Documentation <a class="header-anchor" href="#documentation" aria-label="Permalink to &quot;Documentation&quot;">​</a></h2><p>Refer to the module&#39;s <a href="https://source-academy.github.io/modules/documentation/modules/curve.html" target="_blank" rel="noreferrer">documentation</a> for more information on each exposed function&#39;s specifications.</p><h2 id="pre-requisites" tabindex="-1">Pre-requisites <a class="header-anchor" href="#pre-requisites" aria-label="Permalink to &quot;Pre-requisites&quot;">​</a></h2><ul><li>The project requires some basic knowledge about <strong>React</strong>, including the usage of props/state.</li><li>The current API that <code>curves</code> uses is <strong>WebGL</strong>. WebGL is a powerful tool for drawing on canvas elements, though limited by its primitive nature. Refer to the <a href="https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API/Tutorial" target="_blank" rel="noreferrer">online tutorials</a> for more information.</li><li>While going through the tutorial, you may come across a few matrix manipulation and constructor functions, such as <code>mat4.create()</code> and <code>rotate</code>. All these functions come from package called <strong>glMatrix</strong>, one of the most important dependencies in dealing with WebGL. More info can be found <a href="https://glmatrix.net/" target="_blank" rel="noreferrer">here</a>.</li><li>If there is an interest in doing fancier and cooler things for 3D graphics (e.g. surface rendering, orbit control, lighting, shadow casting etc.), the recommended way forward is to study <a href="https://threejs.org/" target="_blank" rel="noreferrer">ThreeJS</a>. Since Source Academy is built on react, <strong>React Three Fiber</strong> is also a relevant package to look into.</li></ul><h1 id="repository" tabindex="-1">Repository <a class="header-anchor" href="#repository" aria-label="Permalink to &quot;Repository&quot;">​</a></h1><h2 id="library" tabindex="-1">Library <a class="header-anchor" href="#library" aria-label="Permalink to &quot;Library&quot;">​</a></h2><p>All functions (private and exposed) are stored within <code>src/bundles/curves</code>. The folder contains the following files:</p><ol><li><code>curves_webgl.ts</code> - Contains any utility function used in regards to handling WebGL contexts, but not exposed to the user. Create new files if there is a need to handle usage of other graphic libraries in the future (e.g. <code>polyhedra_threejs.ts</code>). It is recommended to document all functions within the file.</li><li><code>function.ts</code> - Contains only the implementation and documentation of all exposed functions of the module. Provide credits for contributing any functions into the library in the file tsdoc using <code>@author</code> tag. Every exposed function must be documented.</li><li><code>index.ts</code> - The only use of index.ts is to export functions meant to be exposed to the user.</li><li><code>types.ts</code> - Contains all declarations for types used in other files in the folder. Avoid using <code>any</code> for type parameters, or a general types for enumerable types (e.g. using <code>space : string</code> when <code>space : &#39;2D&#39; | &#39;3D&#39;</code>). Consider enum types for enumerable types containing more than 3 constants. It is recommended to provide tsdoc for declared types in this file.</li></ol><h3 id="documentation-style" tabindex="-1">Documentation Style <a class="header-anchor" href="#documentation-style" aria-label="Permalink to &quot;Documentation Style&quot;">​</a></h3><ul><li>All tsdoc description should start with capital letters and end with a full stop.</li><li>Include <code>@param</code> and <code>@return</code> if any. Provide the corresponding description but do not end with a full-stop.</li><li>It is recommended to include <code>@example</code> for exposed functions. Use code blocks to write the examples.</li><li>Avoid going pass 80 character mark for each line. This is to facilitate split screen editing.</li></ul><p>Guidelines are subjected to changes, update the above accordingly and ensure they are followed.</p><h2 id="tab-component" tabindex="-1">Tab Component <a class="header-anchor" href="#tab-component" aria-label="Permalink to &quot;Tab Component&quot;">​</a></h2><p>The repository currently contains only the <code>index.ts</code> file. Feel free to add any files if there is a need to add more complex sub-components to the tab.</p><h3 id="spawning-mechanism" tabindex="-1">Spawning Mechanism <a class="header-anchor" href="#spawning-mechanism" aria-label="Permalink to &quot;Spawning Mechanism&quot;">​</a></h3><p>The canvas tab spawns when all the following conditions are fulfilled:</p><ol><li><code>curves</code> module is imported.</li><li>A call to a render function is executed (e.g. <code>draw_connected(100)(t =&gt; make_point(t, t));</code>).</li><li>The entire program finishes running successfully.</li></ol><h3 id="user-interface" tabindex="-1">User Interface <a class="header-anchor" href="#user-interface" aria-label="Permalink to &quot;User Interface&quot;">​</a></h3><p>The user interface consists of the following:</p><ol><li>A html5 canvas element that displays the rendered curves.</li><li>A slider that controls the rotation of the rendered curves.</li><li>A play button that resumes the automated animation of the rotation.</li></ol><p>The slider&#39;s value ranges from <code>0</code> to <code>2*PI</code> inclusively. At the first instance when the program is run, 3D rendered curves are set to auto-rotate by themselves. The slider&#39;s value also updates according to the current curve&#39;s rotation. The animation stops when the user interacts with the slider and manually changes its value. To resume auto-rotation, click the play button. Spam clicking the play button should take no effect.</p><p>The slider and the button will be disabled in cases where curves are rendered in 2D.</p><h3 id="prop-state-handling" tabindex="-1">Prop/State Handling <a class="header-anchor" href="#prop-state-handling" aria-label="Permalink to &quot;Prop/State Handling&quot;">​</a></h3><p>Understanding the use of slider and button requires some basic knowledge on <a href="https://blueprintjs.com/docs/" target="_blank" rel="noreferrer">Blueprint</a>. Provide event handlers for these component as separate private functions if they are too complex, such as performing other executions other than modifying the state. Note that <code>setState</code> is executed asynchronously. Provide statements, which you want to execute only after the state is updated, as a callback function passed as an argument (e.g. <code>setState((prevState) =&gt; ({...}), () =&gt; {callback();})</code>). If there are common statements to be evaluated/executed after any update on the state, consider putting them under <code>componentDidUpdate()</code>.</p><p>Part of the tradeoffs of allowing the user to control the rotation of rendered curves is that the react tab component must have a way to retrieve information about the curve, and have the liberty to re-render it whenever needed by state changes. This has been done through calling <code>.result.value</code> on the context given through props. This effectively restricts the user to write the render statement as the last statement of the program as mentioned in <a href="#spawning-mechanism">Spawning Mechanism</a>.</p>',27)]))}const g=o(l,[["render",s]]);export{f as __pageData,g as default};
