import{_ as t,c as o,o as s,a2 as a}from"./chunks/framework.BYVJ-AET.js";const m=JSON.parse('{"title":"Modules Development Server","description":"","frontmatter":{},"headers":[],"relativePath":"repotools/1-devserver.md","filePath":"repotools/1-devserver.md","lastUpdated":1763120671000}'),r={name:"repotools/1-devserver.md"};function d(n,e,l,i,c,h){return s(),o("div",null,e[0]||(e[0]=[a('<h1 id="modules-development-server" tabindex="-1">Modules Development Server <a class="header-anchor" href="#modules-development-server" aria-label="Permalink to &quot;Modules Development Server&quot;">​</a></h1><p>This server relies on <a href="https://vitejs.dev" target="_blank" rel="noreferrer"><code>Vite</code></a> to create a server that automatically reloads when it detects file system changes. This allows Source Academy developers to make changes to their tabs without having to use the frontend, and have it render code changes live.</p><p>The components here were copied from the frontend&#39;s playground and then simplified.</p><h2 id="compiled-tabs-vs-hot-reload" tabindex="-1">Compiled Tabs vs Hot Reload <a class="header-anchor" href="#compiled-tabs-vs-hot-reload" aria-label="Permalink to &quot;Compiled Tabs vs Hot Reload&quot;">​</a></h2><p>Normally, the Source Academy frontend uses the bundled version of the tabs. However, the development server relies on the raw Typescript files by default so as to enable hot reloading. If you wish to test the compiled versions, use the settings button to toggle using compiled tabs.</p><h2 id="mockmodulecontext-ts" tabindex="-1"><code>mockModuleContext.ts</code> <a class="header-anchor" href="#mockmodulecontext-ts" aria-label="Permalink to &quot;`mockModuleContext.ts`&quot;">​</a></h2><p>For compiled tabs, <code>js-slang/context</code> is not an import that should be required. However, in hot-reload mode, because some tabs rely on their corresponding bundles, <code>js-slang/context</code> is an import that needs to be provided.</p><p>The <code>vite</code> config aliases <code>js-slang/context</code> to the <code>mockModuleContext.ts</code> file, which can then be used to simulate the evaluation context.</p><h2 id="vitest-testing" tabindex="-1">Vitest Testing <a class="header-anchor" href="#vitest-testing" aria-label="Permalink to &quot;Vitest Testing&quot;">​</a></h2><p>The <code>vitest</code> framework integrates with <code>playwright</code> and allows us to actually simulate user actions on the browser page. This is used to test the functionality of the development server.</p>',10)]))}const u=t(r,[["render",d]]);export{m as __pageData,u as default};
