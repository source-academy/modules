import{_ as e,c as i,o as a,a2 as t}from"./chunks/framework.BYVJ-AET.js";const k=JSON.parse('{"title":"Directory Trees","description":"","frontmatter":{},"headers":[],"relativePath":"repotools/6-docserver/2-dirtree.md","filePath":"repotools/6-docserver/2-dirtree.md","lastUpdated":1762942593000}'),n={name:"repotools/6-docserver/2-dirtree.md"};function l(o,s,r,p,h,d){return a(),i("div",null,s[0]||(s[0]=[t(`<h1 id="directory-trees" tabindex="-1">Directory Trees <a class="header-anchor" href="#directory-trees" aria-label="Permalink to &quot;Directory Trees&quot;">​</a></h1><p>The idea behind this plugin was inspired by <a href="https://tree.nathanfriend.com/?" target="_blank" rel="noreferrer">this</a> ASCII tree generator.</p><details class="details custom-block"><summary>Creating a Markdown-It Plugin</summary><p>The documentation for developers looking to create a Markdown-It plugin are woefully inadequate. Thus, most of this plugin was written based on the implementations of other plugins, such as the Vitepress Mermaid plugin and Vitepress Code snippet plugin.</p><p>It basically works by detecting when a code block has been assigned the <code>dirtree</code> language, parses the code block&#39;s content as YAML and converts that object into the directory structure that can then be rendered as text.</p><p>Using the <code>languageAlias</code> markdown configuration, we can get Vitepress to highlight and colour the rendered directory trees.</p></details><p>To create your own directory tree, use the <code>dirtree</code> language with your markdown code block:</p><div class="language-md vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">md</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">\`\`\` dirtree</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">\`\`\`</span></span></code></pre></div><p>Within the <code>dirtree</code> code block, YAML is used for configuring the output. Start by first configuring your root object:</p><div class="language-md vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">md</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">\`\`\` dirtree</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name: root directory</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">\`\`\`</span></span></code></pre></div><p>If you do not specify a name for your root directory, then it will have the default name of <code>&quot;root&quot;</code>. Now you can proceed to create children elements using a YAML list:</p><div class="language-md vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">md</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">\`\`\` dirtree</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name: root directory</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">children:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - item0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - name: item1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    children:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - item2</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">\`\`\`</span></span></code></pre></div><p>Each item can either just be a string entry (like <code>item0</code> above), in which case that entry is simply displayed as is, or it can be a compound YAML object like <code>item1</code> is. The details for such an entry are as follows:</p><div class="language-yml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">item1</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # You must provide the name property</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">comment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">This is an optional comment</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">children</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Optional list of items</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">item2</span></span></code></pre></div><h2 id="optional-comments" tabindex="-1">Optional Comments <a class="header-anchor" href="#optional-comments" aria-label="Permalink to &quot;Optional Comments&quot;">​</a></h2><p>If provided, the comment is rendered on the same line, in alignment with all other comments:</p><div class="language-dirtree vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">dirtree</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">root</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">├── item1                           // This is a comment</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">├── item2                           // Notice how all comments are</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">│   └── item 3                      // aligned at the end</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">└── this_item_has_a_very_long_name</span></span></code></pre></div><h2 id="path-validation" tabindex="-1">Path Validation <a class="header-anchor" href="#path-validation" aria-label="Permalink to &quot;Path Validation&quot;">​</a></h2><p>In the case you intend for your displayed directory tree to reflect the structure of an actual directory on disk, you can specify a <code>path</code> property on the root object. This path is resolved from the file containing the markdown.</p><div class="language-md vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">md</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">&lt;!-- Located in docs/index.md --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">\`\`\` dirtree</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name: root directory</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">path: ./root   # gets resolved to docs/root</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">children:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - item0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - name: item1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    children:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - item2</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">\`\`\`</span></span></code></pre></div><p>The plugin will then traverse down the directory structure. For each item, if it has children, it checks that the item corresponds to a directory of the same name on disk. In the example above, the plugin would check that <code>docs/root</code> was a folder that contained either a file or directory called <code>item0</code>.</p><p>It would also check that <code>docs/root/item1</code> exists and that is is a directory (since it has children elements). This check is recursively performed on each subdirectory.</p><div class="warning custom-block github-alert"><p class="custom-block-title">WARNING</p><p>This validation is only performed for items that have been specified in the <code>dirtree</code>, i.e. it doesn&#39;t consider items that are present on disk but aren&#39;t listed as an issue.</p></div><p>If the check fails a warning will be printed to the console stating which files it wasn&#39;t able to locate.</p><p>Path validation is optional; Not providing a path means that no validation is performed, so <code>dirtree</code>s can reflect arbitrary directory structures.</p>`,22)]))}const g=e(n,[["render",l]]);export{k as __pageData,g as default};
